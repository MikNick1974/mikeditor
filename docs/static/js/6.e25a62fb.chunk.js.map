{"version":3,"sources":["components/button.module.css","components/upload.module.css","components/buttonbar.module.css","components/Upload.js","components/ButtonBar.js","pages/Home.js","components/page.module.css","components/navlink.module.css","components/sidebar.module.css","components/NavLink.js","components/SideBar.js","components/Page.js","components/Card.js","components/card.module.css","components/Button.js"],"names":["module","exports","Upload","formatMessage","useIntl","insertSaveData","useContext","SaveContext","msg","setMsg","useState","Button","onClick","async","blobs","fileOpen","err","name","type","text","id","defaultMessage","className","clsx","styles","ButtonBar","children","wrapper","Home","saveData","gameData","ships","to","Page","center","Card","style","maxWidth","href","NavLink","icon","box","role","inner","activeClassName","active","SideBar","reset","list","withScroll","useLocation","pathname","startsWith","internal","mainSection","inline","mode","other","target","button","rel","e","preventDefault"],"mappings":"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","file":"static/js/6.e25a62fb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__3MTwP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"msg\":\"upload_msg__1O_dC\",\"error\":\"upload_error__2P5G4\",\"notice\":\"upload_notice__3GZKP\",\"warning\":\"upload_warning__3lVCy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"buttonbar_wrapper__3hyr6\"};","import { useContext, useState } from \"react\";\nimport { fileOpen } from \"browser-fs-access\";\nimport { FormattedMessage, useIntl } from \"react-intl\";\nimport clsx from \"clsx\";\n\nimport { SaveContext } from \"../context/SaveContext\";\nimport Button from \"./Button\";\n\nimport styles from \"./upload.module.css\";\n\nconst Upload = () => {\n  const { formatMessage } = useIntl();\n  const { insertSaveData } = useContext(SaveContext);\n  const [msg, setMsg] = useState(null);\n\n  const handleClick = async (e) => {\n    setMsg(null);\n\n    let blobs;\n    try {\n      blobs = await fileOpen();\n    } catch (err) {\n      if (err.name === \"AbortError\") {\n        // setMsg({ type: \"error\", text: \"Aborted\" });\n        return;\n      }\n      setMsg({\n        type: \"error\",\n        text: formatMessage({\n          id: \"error_unknown\",\n          defaultMessage: \"Something went wrong\",\n        }),\n      });\n    }\n\n    // if (!blobs.length) {\n    //   setMsg({ type: \"error\", text: \"No files in directory\" });\n    // }\n    // blobs.sort((a, b) => a.name.localeCompare(b.name, intl.locale));\n    await insertSaveData(blobs);\n  };\n\n  return (\n    <div>\n      <Button onClick={handleClick}>\n        <FormattedMessage id=\"open_save\" defaultMessage=\"Open Save\" />\n      </Button>\n      {msg && (\n        <span className={clsx(styles.msg, styles[msg.type])}>{msg.text}</span>\n      )}\n    </div>\n  );\n};\n\nexport default Upload;\n","import styles from \"./buttonbar.module.css\";\n\nconst ButtonBar = ({ children }) => {\n  return <div className={styles.wrapper}>{children}</div>;\n};\n\nexport default ButtonBar;\n","import { useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport { SaveContext } from \"../context/SaveContext\";\n\nimport Upload from \"../components/Upload\";\nimport Page from \"../components/Page\";\nimport Card from \"../components/Card\";\nimport Button from \"../components/Button\";\nimport ButtonBar from \"../components/ButtonBar\";\n\nconst Home = () => {\n  const { saveData, gameData } = useContext(SaveContext);\n\n  return gameData.ships ? (\n    <Navigate to=\"/edit\" />\n  ) : (\n    <Page center>\n      <Card style={{ maxWidth: \"25rem\" }}>\n        <h2>\n          <FormattedMessage id=\"welcome\" defaultMessage=\"Welcome!\" />\n        </h2>\n        <p>\n          The first online savegame editor for the game Space Haven by Bugbyte.\n        </p>\n        <p>\n          This website is still under development, but feel free to look around\n          and try it out.\n          <br />\n          <b>Always</b> backup your saves!\n          <br />\n          <br />\n          Compatible with versions 0.12.2 and 0.12.3. Other versions\n          haven&apos;t been tested.\n        </p>\n        <h3>\n          <FormattedMessage\n            id=\"view_references\"\n            defaultMessage=\"View reference charts\"\n          />\n        </h3>\n        <p>\n          If you want to edit your saves manually, the reference charts with\n          ID&apos;s and corresponding objects, tech, conditions and more might\n          be useful.\n        </p>\n        <Button to=\"/reference\">References</Button>\n        <h3>\n          <FormattedMessage\n            id=\"upload_file\"\n            defaultMessage=\"Upload save file\"\n          />\n        </h3>\n        {!saveData ? (\n          <>\n            <p>\n              Select the directory:\n              <br />\n              <i>-install location-/savegames/-save name-/-save folder-</i>\n              <br />\n              <br />\n              The install location can be found by right-clicking the game in\n              your steam library, &lsquo;manage&rsquo; &gt; &lsquo;browse local\n              files&rsquo;.\n              <br />\n              <br />\n              The save folder is either &lsquo;save&rsquo; or\n              &lsquo;autosaveX&rsquo;\n            </p>\n            <p>This app works best (by a small margin) in Chrome</p>\n            <Upload />\n          </>\n        ) : (\n          <p>\n            <FormattedMessage id=\"loading_dots\" defaultMessage=\"Loading...\" />\n          </p>\n        )}\n        <h3>\n          <FormattedMessage id=\"disclaimer\" defaultMessage=\"Disclaimer\" />\n        </h3>\n        <p>\n          This app is not endorsed or supported by BugByte or Space Haven in any\n          way. Be sure to follow them:\n        </p>\n        <ButtonBar>\n          <Button href=\"https://store.steampowered.com/app/979110/Space_Haven/\">\n            Steam\n          </Button>\n          <Button href=\"https://www.gog.com/game/space_haven\">GOG</Button>\n          <Button href=\"https://bugbyte.fi/\">BugByte</Button>\n          <Button href=\"https://bugbyte.fi/spacehaven/\">Space Haven</Button>\n        </ButtonBar>\n      </Card>\n    </Page>\n  );\n};\n\nexport default Home;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"page_wrapper__1wO3F\",\"internal\":\"page_internal__1hyjw\",\"mainSection\":\"page_mainSection__28DiR\",\"center\":\"page_center__2bm4Z\",\"withScroll\":\"page_withScroll__p_JO7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"navlink_box__OdQqZ\",\"inner\":\"navlink_inner__k_XDU\",\"active\":\"navlink_active__1Qr78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"sidebar_wrapper__2zrJm\",\"list\":\"sidebar_list__313eR\"};","import { NavLink as Link } from \"react-router-dom\";\n\nimport styles from \"./navlink.module.css\";\n\nconst NavLink = ({ children, to, onClick, icon }) => {\n  if (onClick) {\n    return (\n      <li className={styles.box}>\n        <div role=\"button\" className={styles.inner} onClick={onClick}>\n          {icon}\n          <span>{children}</span>\n        </div>\n      </li>\n    );\n  }\n\n  return (\n    <li className={styles.box}>\n      <Link to={to} activeClassName={styles.active}>\n        <div className={styles.inner}>\n          {icon}\n          <span>{children}</span>\n        </div>\n      </Link>\n    </li>\n  );\n};\n\nexport default NavLink;\n","import { useContext } from \"react\";\nimport { FlaskConical, Users, Circle, Plane, Trash2 } from \"lucide-react\";\nimport { FormattedMessage } from \"react-intl\";\nimport NavLink from \"./NavLink\";\nimport { SaveContext } from \"../context/SaveContext\";\nimport styles from \"./sidebar.module.css\";\n\nconst SideBar = () => {\n  const { reset } = useContext(SaveContext);\n\n  return (\n    <div className={styles.wrapper}>\n      <nav>\n        <ul className={styles.list}>\n          <NavLink to=\"/edit\" icon={<Circle />}>\n            <FormattedMessage id=\"home\" defaultMessage=\"Home\" />\n          </NavLink>\n          <NavLink to=\"/edit/research\" icon={<FlaskConical />}>\n            <FormattedMessage id=\"research\" defaultMessage=\"Research\" />\n          </NavLink>\n          <NavLink to=\"/edit/crew\" icon={<Users />}>\n            <FormattedMessage id=\"crew\" defaultMessage=\"Crew\" />\n          </NavLink>\n          <NavLink to=\"/edit/ships\" icon={<Plane />}>\n            <FormattedMessage id=\"ships\" defaultMessage=\"Ships\" />\n          </NavLink>\n          <NavLink onClick={reset} icon={<Trash2 />}>\n            <FormattedMessage id=\"discard\" defaultMessage=\"Discard\" />\n          </NavLink>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default SideBar;\n","import clsx from \"clsx\";\nimport { useLocation } from \"react-router-dom\";\nimport styles from \"./page.module.css\";\nimport SideBar from \"./SideBar\";\n\nconst Page = ({ children, center, withScroll = false }) => {\n  const location = useLocation();\n  const isEdit = location.pathname.startsWith(\"/edit\");\n\n  return isEdit ? (\n    <main className={clsx(styles.wrapper, styles.internal)}>\n      <SideBar />\n      <div className={clsx(styles.mainSection, center && styles.center)}>\n        {children}\n      </div>\n    </main>\n  ) : (\n    <main className={clsx(styles.wrapper, withScroll && styles.withScroll, center && styles.center)}>\n      {children}\n    </main>\n  );\n};\n\nexport default Page;\n","import clsx from \"clsx\";\n\nimport styles from \"./card.module.css\";\n\nconst Card = ({ children, className, inline, mode = \"lighten\", ...other }) => {\n  return (\n    <div\n      className={clsx(\n        styles.wrapper,\n        styles[mode],\n        inline ? styles.inline : null,\n        className,\n      )}\n      {...other}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"card_wrapper__2NX3z\",\"inline\":\"card_inline__3rPcc\",\"lighten\":\"card_lighten__1US7G\",\"darken\":\"card_darken__1dHKE\"};","import { NavLink } from \"react-router-dom\";\nimport styles from \"./button.module.css\";\n\nconst Button = ({\n  onClick,\n  href,\n  to,\n  target = \"_blank\",\n  children,\n  ...other\n}) => {\n  const handleClick = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={styles.button}\n        rel=\"noreferrer noopener\"\n        target={target}\n        {...other}\n      >\n        {children}\n      </a>\n    );\n  }\n\n  if (to) {\n    return (\n      <NavLink to={to} className={styles.button} {...other}>\n        {children}\n      </NavLink>\n    );\n  }\n\n  return (\n    <button onClick={handleClick} className={styles.button} {...other}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n"],"sourceRoot":""}